<div class="view view--full">
  <div class="layout" style="flex-flow: column wrap;">
    <div class="columns" style="flex-flow: column wrap; justify-content: flex-start;">
      <% tasks.each_with_index do |task, idx| %>
        <div class="item" style="<%= 'max-width:50%' if tasks.size > 10 %>">
          <div class="meta">
            <span class="index"><%= idx + 1 %></span>
          </div>
          <div class="content">
            <span class="title title--small"><%= simple_format(render_markdown(task[:content])) %></span>
            <% if task[:due].present? %>
              <div class="flex gap--xsmall">
                <span class="label label--small label--underline">due <%= I18n.l Date.parse(task[:due]), format: :short %></span>
              </div>
            <% end %>
          </div>
        </div>
      <% end %>
    </div>
  </div>

  <%= render partial: "plugins/todolist/shared/title_bar", locals: local_assigns %>
</div>